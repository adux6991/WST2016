<!DOCTYPE html>

<!-- questionaire.html
     A document to collect information such as name, age, gender and email.
     -->

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="author" content="Xu Da">
<title> Questionaire </title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="main.css">
<script type = "text/javascript" src = "jquery-3.1.1.min.js"></script>
<script type="text/javascript">

$(document).ready(function(){
    $("#sub").click(function(){
        var name = $("#name").val();
        var age = $("#age").val();
        var gender = $("#gender").val();
        var email = $("#email").val();

        if (name == "" || name == null)
        {
            $("#result").text("Please input your name!");
            return false;
        }

        if (age == "" || age == null)
        {
            $("#result").text("Please input your age!");
            return false;
        }

        if (email == "" || email == null)
        {
            $("#result").text("Please input your email!");
            return false;
        }

        $.ajax({
          type: 'post',
          url: '/cgi-bin/submit.pl',
          data: $("#survey").serialize(),
          success: function(data){
            $("#result").text("Submit success!");
          }
        })
    });
});


</script>

</head>
<body>

<div class = "head">
<h1><b> Welcome to the Questionaire </b></h1>
</div>

<div class = "block">

<form
    name = "survey"
    id = "survey"
    action = "/cgi-bin/submit.pl"
    method = "post">

<br />

<br />
<br />
<br />
<table border = "0" align = "center">
  <tr>
    <td > Name: </td>
    <td >
      <input type = "text"  name = "name" id = "name" size = "20" maxlength = "20"/>
    </td>
  </tr>

  <tr>
    <td > Age: </td>
    <td >
      <input type = "number"  name = "age" id = "age" size = "30" min = "0" max = "200"/>
    </td>
  </tr>

  <tr>
    <td> Gender: </td>
    <td >
      <input type = "radio" name = "gender" id = "gender" value = "male" checked = "checked"/> Male
      <input type = "radio" name = "gender" id = "gender" value = "female" /> Female
    </td>
  </tr>

  <tr>
    <td >Email: </td>
    <td >
      <input type = "email"  name = "email" id = "email" size = "20" maxlength = "20"/>
    </td>
  </tr>

  <tr>
    <td colspan = "2" >
      <input type = "button" id = "sub"  value = "Submit" />
      <a href = "/cgi-bin/query.pl"> <input type = "button" value = "Query" /> </a>
    </td>
  </tr>

  <tr>
    <td colspan = "2" >
      <br />
    </td>
  </tr>

  <tr>
    <td colspan = "2">
      <span id = "result" style = "color: red"><br /></span>
    </td>
  </tr>
</table>

<br />
<br />
<br />

</form>

</div>

<div class = "block foot">
    <div class = "head">
        <p><a href = "index.html"> Return </a></p>
    </div>
</div>

</body>
</html>

